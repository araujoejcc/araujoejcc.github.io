"use strict";(self.webpackChunkfazenda_peixe_azul_app=self.webpackChunkfazenda_peixe_azul_app||[]).push([[991],{5991:(O,m,i)=>{i.r(m),i.d(m,{AuthModule:()=>M});var l=i(177),t=i(9417),d=i(4032),f=i(980),n=i(540),u=i(8010);function p(e,s){1&e&&(n.j41(0,"div"),n.EFF(1,"Email \xe9 obrigat\xf3rio"),n.k0s())}function h(e,s){1&e&&(n.j41(0,"div"),n.EFF(1,"Email inv\xe1lido"),n.k0s())}function b(e,s){if(1&e&&(n.j41(0,"div",14),n.DNE(1,p,2,0,"div",15),n.DNE(2,h,2,0,"div",15),n.k0s()),2&e){const o=n.XpG();n.R7$(1),n.Y8G("ngIf",o.f.email.errors.required),n.R7$(1),n.Y8G("ngIf",o.f.email.errors.email)}}function v(e,s){1&e&&(n.j41(0,"div"),n.EFF(1,"Senha \xe9 obrigat\xf3ria"),n.k0s())}function C(e,s){if(1&e&&(n.j41(0,"div",14),n.DNE(1,v,2,0,"div",15),n.k0s()),2&e){const o=n.XpG();n.R7$(1),n.Y8G("ngIf",o.f.senha.errors.required)}}function k(e,s){1&e&&n.nrm(0,"span",16)}function _(e,s){if(1&e&&(n.j41(0,"div",17)(1,"p"),n.EFF(2),n.k0s()()),2&e){const o=n.XpG();n.R7$(2),n.JRh(o.error)}}const c=function(e){return{"is-invalid":e}},F=[{path:"login",component:(()=>{class e{constructor(o,a,r,g){this.formBuilder=o,this.route=a,this.router=r,this.authService=g,this.loading=!1,this.submitted=!1,this.error="",this.returnUrl="/"}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[t.k0.required,t.k0.email]],senha:["",t.k0.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}get f(){return this.loginForm.controls}onSubmit(){this.submitted=!0,!this.loginForm.invalid&&(this.loading=!0,this.authService.login({email:this.f.email.value,senha:this.f.senha.value}).pipe((0,f.j)(()=>{this.loading=!1})).subscribe({next:()=>{this.router.navigate([this.returnUrl])},error:o=>{this.error=o?.error?.message||"Usu\xe1rio ou senha inv\xe1lidos"}}))}static{this.\u0275fac=function(a){return new(a||e)(n.rXU(t.ok),n.rXU(d.nX),n.rXU(d.Ix),n.rXU(u.u))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-login"]],decls:32,vars:12,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Digite seu email",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","senha"],["type","password","id","senha","formControlName","senha","placeholder","Digite sua senha",1,"form-control",3,"ngClass"],[1,"btn-primary","btn-block",3,"disabled"],["class","spinner spinner-sm mr-1",4,"ngIf"],["class","alert-danger mt-3",4,"ngIf"],[1,"test-credentials","mt-4"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner","spinner-sm","mr-1"],[1,"alert-danger","mt-3"]],template:function(a,r){1&a&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),n.EFF(4,"Sistema de Gest\xe3o para Carinicultura"),n.k0s(),n.j41(5,"h3"),n.EFF(6,"Login"),n.k0s()(),n.j41(7,"form",3),n.bIt("ngSubmit",function(){return r.onSubmit()}),n.j41(8,"div",4)(9,"label",5),n.EFF(10,"Email"),n.k0s(),n.nrm(11,"input",6),n.DNE(12,b,3,2,"div",7),n.k0s(),n.j41(13,"div",4)(14,"label",8),n.EFF(15,"Senha"),n.k0s(),n.nrm(16,"input",9),n.DNE(17,C,2,1,"div",7),n.k0s(),n.j41(18,"div",4)(19,"button",10),n.DNE(20,k,1,0,"span",11),n.j41(21,"span"),n.EFF(22,"Entrar"),n.k0s()()(),n.DNE(23,_,3,1,"div",12),n.j41(24,"div",13)(25,"p")(26,"strong"),n.EFF(27,"Credenciais para teste:"),n.k0s()(),n.j41(28,"p"),n.EFF(29,"Email: admin@exemplo.com"),n.k0s(),n.j41(30,"p"),n.EFF(31,"Senha: admin123"),n.k0s()()()()()),2&a&&(n.R7$(7),n.Y8G("formGroup",r.loginForm),n.R7$(4),n.Y8G("ngClass",n.eq3(8,c,r.submitted&&r.f.email.errors)),n.R7$(1),n.Y8G("ngIf",r.submitted&&r.f.email.errors),n.R7$(4),n.Y8G("ngClass",n.eq3(10,c,r.submitted&&r.f.senha.errors)),n.R7$(1),n.Y8G("ngIf",r.submitted&&r.f.senha.errors),n.R7$(2),n.Y8G("disabled",r.loading),n.R7$(1),n.Y8G("ngIf",r.loading),n.R7$(3),n.Y8G("ngIf",r.error))},dependencies:[l.YU,l.bT,t.qT,t.me,t.BC,t.cb,t.j4,t.JD],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;padding:1rem}.login-card[_ngcontent-%COMP%]{width:100%;max-width:400px;background:white;border-radius:8px;box-shadow:0 4px 10px #0000001a;overflow:hidden}.login-header[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff;padding:1.5rem;text-align:center}.login-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:500}.login-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:1.2rem;font-weight:400}form[_ngcontent-%COMP%]{padding:1.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.form-control[_ngcontent-%COMP%]{display:block;width:100%;padding:.75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:4px;transition:border-color .15s ease-in-out}.form-control[_ngcontent-%COMP%]:focus{border-color:#3f51b5;outline:0;box-shadow:0 0 0 .2rem #3f51b540}.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.invalid-feedback[_ngcontent-%COMP%]{display:block;width:100%;margin-top:.25rem;font-size:.875rem;color:#dc3545}.btn-primary[_ngcontent-%COMP%]{display:inline-block;font-weight:400;text-align:center;white-space:nowrap;vertical-align:middle;-webkit-user-select:none;user-select:none;border:1px solid transparent;padding:.75rem 1rem;font-size:1rem;line-height:1.5;border-radius:4px;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out;color:#fff;background-color:#3f51b5;border-color:#3f51b5;cursor:pointer}.btn-block[_ngcontent-%COMP%]{display:block;width:100%}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#303f9f;border-color:#303f9f}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.65;cursor:not-allowed}.alert-danger[_ngcontent-%COMP%]{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem;color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}.spinner[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;vertical-align:text-bottom;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;animation:_ngcontent-%COMP%_spinner-border .75s linear infinite}.spinner-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}.mr-1[_ngcontent-%COMP%]{margin-right:.25rem}.mt-3[_ngcontent-%COMP%]{margin-top:1rem}.mt-4[_ngcontent-%COMP%]{margin-top:1.5rem}.test-credentials[_ngcontent-%COMP%]{background-color:#e8eaf6;padding:1rem;border-radius:4px;font-size:.9rem}.test-credentials[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}"]})}}return e})()}];let M=(()=>{class e{static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275mod=n.$C({type:e})}static{this.\u0275inj=n.G2t({imports:[l.MD,t.X1,d.iI.forChild(F)]})}}return e})()}}]);