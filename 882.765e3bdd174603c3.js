"use strict";(self.webpackChunkfazenda_peixe_azul_app=self.webpackChunkfazenda_peixe_azul_app||[]).push([[882],{8882:(dt,h,s)=>{s.r(h),s.d(h,{TanquesModule:()=>ut});var u=s(177),d=s(4032),r=s(9417),t=s(540),F=s(3508);function E(n,i){1&n&&(t.j41(0,"div",7),t.nrm(1,"div",8),t.j41(2,"p"),t.EFF(3,"Carregando tanques..."),t.k0s()())}function k(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",9)(1,"p"),t.EFF(2),t.k0s(),t.j41(3,"button",10),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.carregarTanques())}),t.EFF(4,"Tentar novamente"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(2),t.JRh(e.error)}}function C(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",13)(1,"p"),t.EFF(2,"Nenhum tanque cadastrado"),t.k0s(),t.j41(3,"button",2),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.criarTanque())}),t.EFF(4,"Cadastrar primeiro tanque"),t.k0s()()}}function T(n,i){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td",17)(10,"button",18),t.bIt("click",function(){const c=t.eBV(e).$implicit,l=t.XpG(3);return t.Njj(l.visualizarTanque(c.id))}),t.j41(11,"span",3),t.EFF(12,"visibility"),t.k0s()(),t.j41(13,"button",18),t.bIt("click",function(){const c=t.eBV(e).$implicit,l=t.XpG(3);return t.Njj(l.editarTanque(c.id))}),t.j41(14,"span",3),t.EFF(15,"edit"),t.k0s()(),t.j41(16,"button",19),t.bIt("click",function(){const c=t.eBV(e).$implicit,l=t.XpG(3);return t.Njj(l.deletarTanque(c.id))}),t.j41(17,"span",3),t.EFF(18,"delete"),t.k0s()()()()}if(2&n){const e=i.$implicit;t.R7$(2),t.JRh(e.nome),t.R7$(2),t.JRh(e.especieCultura),t.R7$(2),t.JRh(e.capacidade),t.R7$(2),t.JRh(e.localizacao)}}function j(n,i){if(1&n&&(t.j41(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th"),t.EFF(5,"Nome"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Esp\xe9cie"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Capacidade (m\xb3)"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Localiza\xe7\xe3o"),t.k0s(),t.j41(12,"th"),t.EFF(13,"A\xe7\xf5es"),t.k0s()()(),t.j41(14,"tbody"),t.DNE(15,T,19,4,"tr",16),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(15),t.Y8G("ngForOf",e.tanques)}}function x(n,i){if(1&n&&(t.j41(0,"div"),t.DNE(1,C,5,0,"div",11),t.DNE(2,j,16,1,"div",12),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",0===e.tanques.length),t.R7$(1),t.Y8G("ngIf",e.tanques.length>0)}}let R=(()=>{class n{constructor(e,a){this.tanqueService=e,this.router=a,this.tanques=[],this.loading=!1,this.error=""}ngOnInit(){this.carregarTanques()}carregarTanques(){this.loading=!0,this.error="",this.tanqueService.getTanques().subscribe({next:e=>{this.tanques=e,this.loading=!1},error:e=>{this.error="Erro ao carregar tanques: "+(e.message||"Erro desconhecido"),this.loading=!1}})}criarTanque(){this.router.navigate(["/tanques/novo"])}editarTanque(e){this.router.navigate(["/tanques/editar",e])}visualizarTanque(e){this.router.navigate(["/tanques",e])}deletarTanque(e){confirm("Tem certeza que deseja excluir este tanque?")&&this.tanqueService.deleteTanque(e).subscribe({next:()=>{this.carregarTanques()},error:a=>{this.error="Erro ao excluir tanque: "+(a.message||"Erro desconhecido")}})}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(F.a),t.rXU(d.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-tanque-list"]],decls:11,vars:3,consts:[[1,"container"],[1,"header-actions"],[1,"btn-primary",3,"click"],[1,"material-icons"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"error-container"],[1,"btn-secondary",3,"click"],["class","empty-state",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"empty-state"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[1,"actions"],[1,"btn-icon",3,"click"],[1,"btn-icon","btn-danger",3,"click"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"Tanques"),t.k0s(),t.j41(4,"button",2),t.bIt("click",function(){return o.criarTanque()}),t.j41(5,"span",3),t.EFF(6,"add"),t.k0s(),t.EFF(7," Novo Tanque "),t.k0s()(),t.DNE(8,E,4,0,"div",4),t.DNE(9,k,5,1,"div",5),t.DNE(10,x,3,2,"div",6),t.k0s()),2&a&&(t.R7$(8),t.Y8G("ngIf",o.loading),t.R7$(1),t.Y8G("ngIf",o.error),t.R7$(1),t.Y8G("ngIf",!o.loading&&!o.error))},dependencies:[u.Sq,u.bT],styles:['@charset "UTF-8";.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.table-container[_ngcontent-%COMP%]{overflow-x:auto;margin-bottom:1.5rem}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #e0e0e0}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;color:#333;background-color:#f5f5f5}.data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.5rem}.btn-icon[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.25rem;display:flex;align-items:center;justify-content:center}.btn-icon[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;border-radius:50%}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#dc35451a}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;background-color:#f9f9f9;border-radius:8px;text-align:center}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#666}@media (max-width: 768px){.header-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}']})}}return n})();function I(n,i){1&n&&(t.j41(0,"div",4),t.nrm(1,"div",5),t.j41(2,"p"),t.EFF(3,"Carregando dados..."),t.k0s()())}function P(n,i){if(1&n){const e=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.carregarTanque(o.tanqueId))}),t.EFF(1,"Tentar novamente"),t.k0s()}}function M(n,i){if(1&n&&(t.j41(0,"div",6)(1,"p"),t.EFF(2),t.k0s(),t.DNE(3,P,2,0,"button",7),t.k0s()),2&n){const e=t.XpG();t.R7$(2),t.JRh(e.error),t.R7$(1),t.Y8G("ngIf",e.isEditMode&&e.tanqueId)}}function y(n,i){1&n&&(t.j41(0,"span"),t.EFF(1,"Nome do tanque \xe9 obrigat\xf3rio."),t.k0s())}function O(n,i){1&n&&(t.j41(0,"span"),t.EFF(1,"Nome deve ter no m\xe1ximo 255 caracteres."),t.k0s())}function $(n,i){if(1&n&&(t.j41(0,"div",24),t.DNE(1,y,2,0,"span",25),t.DNE(2,O,2,0,"span",25),t.k0s()),2&n){const e=t.XpG(2);let a,o;t.R7$(1),t.Y8G("ngIf",null==(a=e.tanqueForm.get("nome"))||null==a.errors?null:a.errors.required),t.R7$(1),t.Y8G("ngIf",null==(o=e.tanqueForm.get("nome"))||null==o.errors?null:o.errors.maxlength)}}function G(n,i){1&n&&(t.j41(0,"span"),t.EFF(1,"Capacidade \xe9 obrigat\xf3ria."),t.k0s())}function N(n,i){1&n&&(t.j41(0,"span"),t.EFF(1,"Capacidade deve ser um valor positivo."),t.k0s())}function D(n,i){if(1&n&&(t.j41(0,"div",24),t.DNE(1,G,2,0,"span",25),t.DNE(2,N,2,0,"span",25),t.k0s()),2&n){const e=t.XpG(2);let a,o;t.R7$(1),t.Y8G("ngIf",null==(a=e.tanqueForm.get("capacidade"))||null==a.errors?null:a.errors.required),t.R7$(1),t.Y8G("ngIf",null==(o=e.tanqueForm.get("capacidade"))||null==o.errors?null:o.errors.min)}}function X(n,i){1&n&&(t.j41(0,"span"),t.EFF(1,"Localiza\xe7\xe3o \xe9 obrigat\xf3ria."),t.k0s())}function Y(n,i){1&n&&(t.j41(0,"span"),t.EFF(1,"Localiza\xe7\xe3o deve ter no m\xe1ximo 255 caracteres."),t.k0s())}function V(n,i){if(1&n&&(t.j41(0,"div",24),t.DNE(1,X,2,0,"span",25),t.DNE(2,Y,2,0,"span",25),t.k0s()),2&n){const e=t.XpG(2);let a,o;t.R7$(1),t.Y8G("ngIf",null==(a=e.tanqueForm.get("localizacao"))||null==a.errors?null:a.errors.required),t.R7$(1),t.Y8G("ngIf",null==(o=e.tanqueForm.get("localizacao"))||null==o.errors?null:o.errors.maxlength)}}function z(n,i){1&n&&(t.j41(0,"span"),t.EFF(1,"Esp\xe9cie cultivada \xe9 obrigat\xf3ria."),t.k0s())}function B(n,i){1&n&&(t.j41(0,"span"),t.EFF(1,"Esp\xe9cie cultivada deve ter no m\xe1ximo 255 caracteres."),t.k0s())}function L(n,i){if(1&n&&(t.j41(0,"div",24),t.DNE(1,z,2,0,"span",25),t.DNE(2,B,2,0,"span",25),t.k0s()),2&n){const e=t.XpG(2);let a,o;t.R7$(1),t.Y8G("ngIf",null==(a=e.tanqueForm.get("especieCultura"))||null==a.errors?null:a.errors.required),t.R7$(1),t.Y8G("ngIf",null==(o=e.tanqueForm.get("especieCultura"))||null==o.errors?null:o.errors.maxlength)}}function S(n,i){1&n&&t.nrm(0,"span",26)}function J(n,i){if(1&n){const e=t.RV6();t.j41(0,"form",9),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onSubmit())}),t.j41(1,"div",10)(2,"label",11),t.EFF(3,"Nome do Tanque*"),t.k0s(),t.nrm(4,"input",12),t.DNE(5,$,3,2,"div",13),t.k0s(),t.j41(6,"div",10)(7,"label",14),t.EFF(8,"Capacidade (m\xb3)*"),t.k0s(),t.nrm(9,"input",15),t.DNE(10,D,3,2,"div",13),t.k0s(),t.j41(11,"div",10)(12,"label",16),t.EFF(13,"Localiza\xe7\xe3o*"),t.k0s(),t.nrm(14,"input",17),t.DNE(15,V,3,2,"div",13),t.k0s(),t.j41(16,"div",10)(17,"label",18),t.EFF(18,"Esp\xe9cie Cultivada*"),t.k0s(),t.nrm(19,"input",19),t.DNE(20,L,3,2,"div",13),t.k0s(),t.j41(21,"div",20)(22,"button",21),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.cancelar())}),t.EFF(23,"Cancelar"),t.k0s(),t.j41(24,"button",22),t.DNE(25,S,1,0,"span",23),t.EFF(26),t.k0s()()()}if(2&n){const e=t.XpG();let a,o,c,l,p,_,g,f;t.Y8G("formGroup",e.tanqueForm),t.R7$(4),t.AVh("is-invalid",(null==(a=e.tanqueForm.get("nome"))?null:a.invalid)&&(null==(a=e.tanqueForm.get("nome"))?null:a.touched)),t.R7$(1),t.Y8G("ngIf",(null==(o=e.tanqueForm.get("nome"))?null:o.invalid)&&(null==(o=e.tanqueForm.get("nome"))?null:o.touched)),t.R7$(4),t.AVh("is-invalid",(null==(c=e.tanqueForm.get("capacidade"))?null:c.invalid)&&(null==(c=e.tanqueForm.get("capacidade"))?null:c.touched)),t.R7$(1),t.Y8G("ngIf",(null==(l=e.tanqueForm.get("capacidade"))?null:l.invalid)&&(null==(l=e.tanqueForm.get("capacidade"))?null:l.touched)),t.R7$(4),t.AVh("is-invalid",(null==(p=e.tanqueForm.get("localizacao"))?null:p.invalid)&&(null==(p=e.tanqueForm.get("localizacao"))?null:p.touched)),t.R7$(1),t.Y8G("ngIf",(null==(_=e.tanqueForm.get("localizacao"))?null:_.invalid)&&(null==(_=e.tanqueForm.get("localizacao"))?null:_.touched)),t.R7$(4),t.AVh("is-invalid",(null==(g=e.tanqueForm.get("especieCultura"))?null:g.invalid)&&(null==(g=e.tanqueForm.get("especieCultura"))?null:g.touched)),t.R7$(1),t.Y8G("ngIf",(null==(f=e.tanqueForm.get("especieCultura"))?null:f.invalid)&&(null==(f=e.tanqueForm.get("especieCultura"))?null:f.touched)),t.R7$(4),t.Y8G("disabled",e.submitting),t.R7$(1),t.Y8G("ngIf",e.submitting),t.R7$(1),t.SpI(" ",e.isEditMode?"Atualizar":"Salvar"," ")}}let v=(()=>{class n{constructor(e,a,o,c){this.formBuilder=e,this.route=a,this.router=o,this.tanqueService=c,this.isEditMode=!1,this.loading=!1,this.submitting=!1,this.error=""}ngOnInit(){this.initForm();const e=this.route.snapshot.params.id;e&&(this.tanqueId=+e,this.isEditMode=!0,this.carregarTanque(this.tanqueId))}initForm(){this.tanqueForm=this.formBuilder.group({nome:["",[r.k0.required,r.k0.maxLength(255)]],capacidade:["",[r.k0.required,r.k0.min(0)]],localizacao:["",[r.k0.required,r.k0.maxLength(255)]],especieCultura:["",[r.k0.required,r.k0.maxLength(255)]]})}carregarTanque(e){this.loading=!0,this.tanqueService.getTanqueById(e).subscribe({next:a=>{this.tanqueForm.patchValue(a),this.loading=!1},error:a=>{this.error="Erro ao carregar dados do tanque: "+(a.message||"Erro desconhecido"),this.loading=!1}})}onSubmit(){if(this.tanqueForm.invalid)return void Object.keys(this.tanqueForm.controls).forEach(a=>{this.tanqueForm.get(a)?.markAsTouched()});this.submitting=!0;const e=this.tanqueForm.value;this.isEditMode&&this.tanqueId?this.tanqueService.updateTanque(this.tanqueId,e).subscribe({next:()=>{this.router.navigate(["/tanques"])},error:a=>{this.error="Erro ao atualizar tanque: "+(a.message||"Erro desconhecido"),this.submitting=!1}}):this.tanqueService.createTanque(e).subscribe({next:()=>{this.router.navigate(["/tanques"])},error:a=>{this.error="Erro ao criar tanque: "+(a.message||"Erro desconhecido"),this.submitting=!1}})}cancelar(){this.router.navigate(["/tanques"])}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(r.ok),t.rXU(d.nX),t.rXU(d.Ix),t.rXU(F.a))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-tanque-form"]],decls:6,vars:4,consts:[[1,"container"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"error-container"],["class","btn-secondary",3,"click",4,"ngIf"],[1,"btn-secondary",3,"click"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","nome"],["type","text","id","nome","formControlName","nome",1,"form-control"],["class","error-message",4,"ngIf"],["for","capacidade"],["type","number","id","capacidade","formControlName","capacidade","min","0","step","0.01",1,"form-control"],["for","localizacao"],["type","text","id","localizacao","formControlName","localizacao",1,"form-control"],["for","especieCultura"],["type","text","id","especieCultura","formControlName","especieCultura",1,"form-control"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],["class","spinner-sm",4,"ngIf"],[1,"error-message"],[4,"ngIf"],[1,"spinner-sm"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"h1"),t.EFF(2),t.k0s(),t.DNE(3,I,4,0,"div",1),t.DNE(4,M,4,2,"div",2),t.DNE(5,J,27,16,"form",3),t.k0s()),2&a&&(t.R7$(2),t.SpI("",o.isEditMode?"Editar":"Novo"," Tanque"),t.R7$(1),t.Y8G("ngIf",o.loading),t.R7$(1),t.Y8G("ngIf",o.error),t.R7$(1),t.Y8G("ngIf",!o.loading))},dependencies:[u.bT,r.qT,r.me,r.Q0,r.BC,r.cb,r.VZ,r.j4,r.JD],styles:['@charset "UTF-8";.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{min-width:120px}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem}.spinner-sm[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;vertical-align:text-bottom;border:.2em solid currentColor;border-right-color:transparent;border-radius:50%;animation:_ngcontent-%COMP%_spinner-border .75s linear infinite;margin-right:.5rem}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{width:100%}}']})}}return n})();var A=s(7468),U=s(7673),q=s(8141),w=s(5558),Q=s(9437),b=s(6354),H=s(1482),W=s(4467);function Z(n,i){if(1&n){const e=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.editarTanque())}),t.j41(1,"span",3),t.EFF(2,"edit"),t.k0s(),t.EFF(3," Editar Tanque "),t.k0s()}}function K(n,i){1&n&&(t.j41(0,"div",9),t.nrm(1,"div",10),t.j41(2,"p"),t.EFF(3,"Carregando informa\xe7\xf5es..."),t.k0s()())}function tt(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",11)(1,"p"),t.EFF(2),t.k0s(),t.j41(3,"button",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.carregarDados())}),t.EFF(4,"Tentar novamente"),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(2),t.JRh(e.error)}}function et(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",22)(1,"p"),t.EFF(2,"Nenhum ciclo de produ\xe7\xe3o registrado para este tanque."),t.k0s(),t.j41(3,"button",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.novoCiclo())}),t.EFF(4,"Registrar primeiro ciclo"),t.k0s()()}}function nt(n,i){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td",25)(12,"button",26)(13,"span",3),t.EFF(14,"visibility"),t.k0s()()()()),2&n){const e=i.$implicit;t.R7$(2),t.JRh(e.dataInicio),t.R7$(2),t.JRh(e.dataFim?e.dataFim:"Em andamento"),t.R7$(2),t.JRh(e.quantidadePescado),t.R7$(2),t.JRh(e.racaoGasta),t.R7$(2),t.JRh(e.quantidadePescado>0?(e.racaoGasta/e.quantidadePescado).toFixed(2):"-")}}function at(n,i){if(1&n&&(t.j41(0,"table",23)(1,"thead")(2,"tr")(3,"th"),t.EFF(4,"In\xedcio"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Fim"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Produ\xe7\xe3o (kg)"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Ra\xe7\xe3o (kg)"),t.k0s(),t.j41(11,"th"),t.EFF(12,"FCA"),t.k0s(),t.j41(13,"th"),t.EFF(14,"A\xe7\xf5es"),t.k0s()()(),t.j41(15,"tbody"),t.DNE(16,nt,15,5,"tr",24),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(16),t.Y8G("ngForOf",e.ciclos)}}function ot(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",22)(1,"p"),t.EFF(2,"Nenhum registro de qualidade da \xe1gua para este tanque."),t.k0s(),t.j41(3,"button",12),t.bIt("click",function(){t.eBV(e);const o=t.XpG(2);return t.Njj(o.novoRegistroQualidade())}),t.EFF(4,"Registrar primeira medi\xe7\xe3o"),t.k0s()()}}function it(n,i){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td",25)(14,"button",26)(15,"span",3),t.EFF(16,"visibility"),t.k0s()()()()),2&n){const e=i.$implicit;t.R7$(2),t.JRh(e.data),t.R7$(2),t.JRh(e.ph),t.R7$(2),t.JRh(e.oxigenacao),t.R7$(2),t.JRh(e.temperatura),t.R7$(2),t.JRh(e.amonia),t.R7$(2),t.JRh(e.nitrito)}}function rt(n,i){if(1&n&&(t.j41(0,"table",23)(1,"thead")(2,"tr")(3,"th"),t.EFF(4,"Data"),t.k0s(),t.j41(5,"th"),t.EFF(6,"pH"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Oxig\xeanio (mg/L)"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Temperatura (\xb0C)"),t.k0s(),t.j41(11,"th"),t.EFF(12,"Am\xf4nia (mg/L)"),t.k0s(),t.j41(13,"th"),t.EFF(14,"Nitrito (mg/L)"),t.k0s(),t.j41(15,"th"),t.EFF(16,"A\xe7\xf5es"),t.k0s()()(),t.j41(17,"tbody"),t.DNE(18,it,17,6,"tr",24),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(18),t.Y8G("ngForOf",e.registrosQualidade)}}function st(n,i){if(1&n){const e=t.RV6();t.j41(0,"div",13)(1,"div",14)(2,"h2"),t.EFF(3,"Informa\xe7\xf5es do Tanque"),t.k0s(),t.j41(4,"div",15)(5,"div",16)(6,"span",17),t.EFF(7,"Nome:"),t.k0s(),t.j41(8,"span",18),t.EFF(9),t.k0s()(),t.j41(10,"div",16)(11,"span",17),t.EFF(12,"Esp\xe9cie Cultivada:"),t.k0s(),t.j41(13,"span",18),t.EFF(14),t.k0s()(),t.j41(15,"div",16)(16,"span",17),t.EFF(17,"Capacidade:"),t.k0s(),t.j41(18,"span",18),t.EFF(19),t.k0s()(),t.j41(20,"div",16)(21,"span",17),t.EFF(22,"Localiza\xe7\xe3o:"),t.k0s(),t.j41(23,"span",18),t.EFF(24),t.k0s()()()(),t.j41(25,"div",14)(26,"div",19)(27,"h2"),t.EFF(28,"Ciclos de Produ\xe7\xe3o"),t.k0s(),t.j41(29,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.novoCiclo())}),t.j41(30,"span",3),t.EFF(31,"add"),t.k0s(),t.EFF(32," Novo Ciclo "),t.k0s()(),t.DNE(33,et,5,0,"div",20),t.DNE(34,at,17,1,"table",21),t.k0s(),t.j41(35,"div",14)(36,"div",19)(37,"h2"),t.EFF(38,"Registros de Qualidade da \xc1gua"),t.k0s(),t.j41(39,"button",8),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.novoRegistroQualidade())}),t.j41(40,"span",3),t.EFF(41,"add"),t.k0s(),t.EFF(42," Novo Registro "),t.k0s()(),t.DNE(43,ot,5,0,"div",20),t.DNE(44,rt,19,1,"table",21),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(9),t.JRh(null==e.tanque?null:e.tanque.nome),t.R7$(5),t.JRh(null==e.tanque?null:e.tanque.especieCultura),t.R7$(5),t.SpI("",null==e.tanque?null:e.tanque.capacidade," m\xb3"),t.R7$(5),t.JRh(null==e.tanque?null:e.tanque.localizacao),t.R7$(9),t.Y8G("ngIf",0===e.ciclos.length),t.R7$(1),t.Y8G("ngIf",e.ciclos.length>0),t.R7$(9),t.Y8G("ngIf",0===e.registrosQualidade.length),t.R7$(1),t.Y8G("ngIf",e.registrosQualidade.length>0)}}let ct=(()=>{class n{constructor(e,a,o,c,l){this.route=e,this.router=a,this.tanqueService=o,this.cicloService=c,this.qualidadeAguaService=l,this.ciclos=[],this.registrosQualidade=[],this.loading=!1,this.error=""}ngOnInit(){this.route.params.pipe((0,q.M)(e=>{this.tanqueId=+e.id,this.carregarDados()})).subscribe()}carregarDados(){this.loading=!0,this.error="",this.tanqueService.getTanqueById(this.tanqueId).pipe((0,q.M)(e=>{this.tanque=e}),(0,w.n)(e=>(0,A.p)({ciclos:this.buscarCiclosPorTanque(e.id??0),registros:this.buscarRegistrosPorTanque(e.id??0)})),(0,Q.W)(e=>(this.error="Erro ao carregar informa\xe7\xf5es: "+(e.message||"Erro desconhecido"),this.loading=!1,(0,U.of)({ciclos:[],registros:[]})))).subscribe({next:e=>{this.ciclos=e.ciclos,this.registrosQualidade=e.registros,this.loading=!1},error:e=>{this.error="Erro ao carregar informa\xe7\xf5es: "+(e.message||"Erro desconhecido"),this.loading=!1}})}buscarCiclosPorTanque(e){return this.cicloService.getCiclos().pipe((0,b.T)(a=>a.filter(o=>o.tanque.id===e)))}buscarRegistrosPorTanque(e){return this.qualidadeAguaService.getRegistros().pipe((0,b.T)(a=>a.filter(o=>o.tanque.id===e)))}editarTanque(){this.router.navigate(["/tanques/editar",this.tanqueId])}voltarParaLista(){this.router.navigate(["/tanques"])}novoCiclo(){this.router.navigate(["/ciclos-producao/novo"],{queryParams:{tanqueId:this.tanqueId}})}novoRegistroQualidade(){this.router.navigate(["/qualidade-agua/novo"],{queryParams:{tanqueId:this.tanqueId}})}static{this.\u0275fac=function(a){return new(a||n)(t.rXU(d.nX),t.rXU(d.Ix),t.rXU(F.a),t.rXU(H.B),t.rXU(W.q))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-tanque-detail"]],decls:10,vars:4,consts:[[1,"container"],[1,"header-actions"],[1,"btn-text",3,"click"],[1,"material-icons"],["class","btn-primary",3,"click",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","detail-content",4,"ngIf"],[1,"btn-primary",3,"click"],[1,"loading-container"],[1,"spinner"],[1,"error-container"],[1,"btn-secondary",3,"click"],[1,"detail-content"],[1,"card"],[1,"info-grid"],[1,"info-item"],[1,"label"],[1,"value"],[1,"section-header"],["class","empty-state",4,"ngIf"],["class","data-table",4,"ngIf"],[1,"empty-state"],[1,"data-table"],[4,"ngFor","ngForOf"],[1,"actions"],[1,"btn-icon"]],template:function(a,o){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"button",2),t.bIt("click",function(){return o.voltarParaLista()}),t.j41(3,"span",3),t.EFF(4,"arrow_back"),t.k0s(),t.EFF(5," Voltar para lista "),t.k0s(),t.DNE(6,Z,4,0,"button",4),t.k0s(),t.DNE(7,K,4,0,"div",5),t.DNE(8,tt,5,1,"div",6),t.DNE(9,st,45,8,"div",7),t.k0s()),2&a&&(t.R7$(6),t.Y8G("ngIf",o.tanque),t.R7$(1),t.Y8G("ngIf",o.loading),t.R7$(1),t.Y8G("ngIf",o.error),t.R7$(1),t.Y8G("ngIf",o.tanque&&!o.loading))},dependencies:[u.Sq,u.bT],styles:[".header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.detail-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.info-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:.75rem}.label[_ngcontent-%COMP%]{font-weight:500;color:#666;font-size:.9rem;margin-bottom:.25rem}.value[_ngcontent-%COMP%]{font-size:1.1rem}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;padding:1.5rem;margin-bottom:1.5rem}h2[_ngcontent-%COMP%]{margin:0;color:#3f51b5;font-size:1.3rem;font-weight:500}.empty-state[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:4px;padding:2rem;text-align:center;margin:1rem 0}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1rem}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:1rem}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid #e0e0e0}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;color:#333;background-color:#f5f5f5}.data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}.data-table[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{text-align:right;white-space:nowrap}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid rgba(63,81,181,.1);border-radius:50%;border-left-color:#3f51b5;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;padding:1rem;border-radius:4px;margin-bottom:1rem}"]})}}return n})();var m=s(4978);const lt=[{path:"",component:R,canActivate:[m.q]},{path:"novo",component:v,canActivate:[m.q]},{path:"editar/:id",component:v,canActivate:[m.q]},{path:":id",component:ct,canActivate:[m.q]}];let ut=(()=>{class n{static{this.\u0275fac=function(a){return new(a||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[u.MD,r.X1,d.iI.forChild(lt)]})}}return n})()}}]);